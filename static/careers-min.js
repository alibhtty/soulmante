const API={url:"https://boards-api.greenhouse.io/v1/boards/spacex/jobs",current:{department:"null",location:"null",type:"null",search:"null"},departments:[],locations:[],types:[]},reEscape=/[&<>'"]/g,reUnescape=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,oEscape={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},oUnescape={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},fnEscape=e=>oEscape[e],fnUnescape=e=>oUnescape[e],utils={escape:e=>String.prototype.replace.call(e,reEscape,fnEscape),unescape:e=>String.prototype.replace.call(e,reUnescape,fnUnescape)},escaping=function(e){let t=e[0];const n=[].slice.call(arguments,1);for(var a=0;a<n.length;++a)t+=utils.escape(n[a])+e[a+1];return t},escapestr=e=>escaping`${e}`,router=e=>{return window.addEventListener("popstate",()=>{e({fragment:document.location.fragment,title:document.location.title})}),{push:(t,n)=>(history.pushState(null,null,t||window.location.pathname),e({fragment:t,title:n}),n&&(document.title=n),document.location.href),replace:(t,n)=>(history.replaceState(null,null,t||window.location.pathname),e({fragment:t,title:n}),n&&(document.title=n),document.location.href)}},isNullStr=e=>"null"===e,isNullOrEmptyStr=e=>"null"===e||""===e,sortArrAsc=e=>e.sort((e,t)=>e.value.localeCompare(t.value)),CareersDOMContentLoaded=()=>{const e={body:document.body,slider:getId("slider"),positions:getId("positions"),loader:getId("loader"),feature:getId("feature"),buttons:getId("api-buttons"),jobs:getId("jobs-list"),table:query("#jobs-list table tbody"),cleared:getId("cleared"),filter:getId("filter"),sidebar:getId("sidebar"),scontent:getId("scontent"),ssub:getId("sidebar-sub"),sitems:queryAll(".sidebar-line"),sbtn:getId("sbtn"),back:getId("back"),replace:getId("replace"),selects:{select:getId("select"),department:getId("department"),location:getId("location"),type:getId("type")},search:getId("js-search"),filterSearch:getId("js-filter-search")},t=new Swiper(e.slider,{direction:"horizontal",loop:!0,speed:1500,autoHeight:!0,pagination:!1,simulateTouch:!1,navigation:{nextEl:"#gallery-next-s",prevEl:"#gallery-prev-s"}}),n=deviceSettings.isMobile,a=()=>e.jobs.innerHTML="<span>There are no jobs matching this search.</span>",s=t=>{e.jobs.innerHTML=n?`<h2 class="h2-left">Open positions in ${isNullOrEmptyStr(t.department)?"All Departments":t.department}</h2>`:`\n      <h2 class="h2-left">Open positions in ${isNullOrEmptyStr(t.department)?"All Departments":t.department}</h2>\n      <table class="jobs">\n        <tbody>\n          <tr>\n            <th><strong>Job Title</strong></th>\n            <th><strong>Location</strong></th>\n            <th><strong>Employment Type</strong></th>\n          </tr>\n        </tbody>\n      </table>\n      `},r=e=>{const t=e.metadata.find(e=>"Employment Type"===e.name),a=`\n        <td><a href="${escapestr(e.absolute_url)}" target="_blank">${escapestr(e.title)}</a></td>\n        <td>${escapestr(e.location.name)}</td>\n        <td>${escapestr(t.value)}</td>\n      `,s=`\n        <span class="careers-item-title">${escapestr(e.title)}</span>\n        <span class="careers-item-location">${escapestr(e.location.name)}</span>\n        <svg xmlns="http://www.w3.org/2000/svg" width="5.229" height="8.468" viewBox="0 0 5.229 8.468"><path d="M.995,0,0,.995,3.232,4.234,0,7.473l.995.995L5.229,4.234Z" fill="#fff"/></svg>\n      `;return n?s:a},o=e=>{const t=document.createDocumentFragment();return e.forEach(e=>{const n=document.createElement("option");n.appendChild(document.createTextNode(e.value)),n.value=e.value,t.appendChild(n)}),t},l=t=>{const{searchPerformed:o,searchResults:l}=t;if(o&&!l.length)return void a();const c=isNullOrEmptyStr(t.department)?API.departments:[API.departments.find(e=>e.value===t.department)],i=document.createDocumentFragment(),d=[];c.forEach(e=>{e.jobs.length>0&&e.jobs.forEach(e=>{(isNullOrEmptyStr(t.location)||t.location===e.location.name)&&(isNullOrEmptyStr(t.type)||t.type===e.metadata.find(e=>"Employment Type"===e.name).value)&&d.push(e)})});const p=o?l.filter(e=>d.includes(e)):d;p.length?(p.forEach(e=>{((e,t)=>{const a=n?document.createElement("a"):document.createElement("tr");n&&(a.classList.add("careers-item"),a.setAttribute("href",escapestr(t.absolute_url)),a.setAttribute("target","_blank")),a.innerHTML=r(t),e.appendChild(a)})(i,e)}),s(t),n?e.jobs.appendChild(i):query("#jobs-list table tbody").appendChild(i)):a()},c=()=>{const e=new URLSearchParams(window.location.search);return{department:decodeURIComponent(e.get("department")),location:decodeURIComponent(e.get("location")),type:decodeURIComponent(e.get("type")),search:decodeURIComponent(e.get("search"))}},i=router(n=>{let{department:s,location:r,type:o,search:i}=c();if(isNullStr(s)&&isNullStr(r)&&isNullStr(o)&&isNullStr(i))a(),e.positions.style.display="none",e.jobs.style.display="none",e.feature.style.display="block",e.cleared.style.display="block",e.replace.innerHTML="Find your future",t.update();else{const t=!isNullOrEmptyStr(i),n=t&&(e=>{const t=[],n=e.split(/[\s,]+/).map(e=>e.trim());return API.departments.forEach(e=>{e.jobs.forEach(e=>{((e,t)=>e.map(e=>!!(t.title&&t.title.toLowerCase().includes(e)||t.location&&t.location.name&&t.location.name.toLowerCase().includes(e)||t.metadata&&t.metadata.find(e=>"Posting Category"===e.name)&&t.metadata.find(e=>"Posting Category"===e.name).value&&t.metadata.find(e=>"Posting Category"===e.name).value.toLowerCase().includes(e)||t.metadata&&t.metadata.find(e=>"Description"===e.name)&&t.metadata.find(e=>"Description"===e.name).value&&t.metadata.find(e=>"Description"===e.name).value.toLowerCase().includes(e)||t.metadata&&t.metadata.find(e=>"Employment Type"===e.name)&&t.metadata.find(e=>"Employment Type"===e.name).value&&t.metadata.find(e=>"Employment Type"===e.name).value.toLowerCase().includes(e))).every(e=>!0===e))(n,e)&&t.push(e)})}),t.sort((e,t)=>e.updated_at<t.updated_at)})(decodeURIComponent(i));""===s&&(s="null"),l({department:s,location:r,type:o,searchPerformed:t,searchResults:n}),(t=>{const n=isNullOrEmptyStr(t.department)?e.selects.department.querySelector("option"):e.selects.department.querySelector(`option[value='${t.department}']`);n&&(e.selects.department.selectedIndex=n.index);const a=isNullOrEmptyStr(t.location)?e.selects.location.querySelector("option"):e.selects.location.querySelector(`option[value='${t.location}']`);a&&(e.selects.location.selectedIndex=a.index);const s=isNullOrEmptyStr(t.type)?e.selects.type.querySelector("option"):e.selects.type.querySelector(`option[value='${t.type}']`);s&&(e.selects.type.selectedIndex=s.index),isNullOrEmptyStr(t.search)||document.querySelectorAll(".search-input").forEach(e=>{e.value=t.search})})({department:s,location:r,type:o,search:i}),API.current.department=s,API.current.location=r,API.current.type=o,API.current.search=i,e.feature.style.display="none",e.cleared.style.display="none",e.positions.style.display="block",e.jobs.style.display="block",e.replace.innerHTML="Back to top"}onResize()}),d=(e,t,n)=>{const a=new URLSearchParams(window.location.search);"department"===e&&("Departments"===decodeURIComponent(n)||"Browse Categories"===decodeURIComponent(n)?a.set("department",""):a.set("department",encodeURIComponent(n))),"location"===e&&("Location"===decodeURIComponent(n)?a.set("location",""):a.set("location",encodeURIComponent(n))),"type"===e&&("Position type"===decodeURIComponent(n)?a.set("type",""):a.set("type",encodeURIComponent(n))),"search"===e&&(""===decodeURIComponent(n)?a.set("search",""):a.set("search",encodeURIComponent(n))),i.push(window.location.pathname+"?"+a.toString())},p=t=>{(e=>{e.jobs.forEach(e=>{const t=e.metadata.find(e=>"Posting Category"===e.name);if(t.value){const n=e.metadata.find(e=>"Employment Type"===e.name),a=API.departments.find(e=>e.value===t.value),s=API.locations.find(t=>t.value===e.location.name),r=API.types.find(e=>e.value===n.value);a?a.jobs.push(e):API.departments.push(assign(t,{jobs:[e]})),s||API.locations.push({value:e.location.name}),r||API.types.push({value:n.value})}}),sortArrAsc(API.departments)})(t);e.buttons.style.display="block",e.loader.parentNode.removeChild(e.loader),e.search.style.display="block",e.selects.select.appendChild(o(API.departments)),e.selects.select.addEventListener("change",t=>{const n=e.search.querySelector("input").value;isNullOrEmptyStr(n)?d("department",API.departments,t.target.value):(d("department",API.departments,t.target.value),d("search",0,n))}),e.selects.department.appendChild(o(API.departments)),e.selects.department.addEventListener("change",e=>d("department",API.departments,e.target.value)),e.selects.type.appendChild(o(API.types)),e.selects.type.addEventListener("change",e=>{const t="Type"===e.target.value?"":e.target.value;d("type",API.types,t)}),e.selects.location.appendChild(o(API.locations)),e.selects.location.addEventListener("change",e=>{const t="Location"===e.target.value?"":e.target.value;d("location",API.locations,t)}),e.back.addEventListener("click",e=>{e.preventDefault(),document.querySelectorAll(".search-input").forEach(e=>{e.value=""}),i.push(window.location.pathname)});const n=e=>{e.preventDefault();const t=e.currentTarget.querySelector(".search-input").value.toLowerCase().trim(),{search:n}=c();t!==n&&(isNullOrEmptyStr(t)&&isNullOrEmptyStr(n)||d("search",0,t))};e.search.querySelector("form").addEventListener("submit",n),e.filterSearch.querySelector("form").addEventListener("submit",n);const a={state:!1,sub:!1,header:e=>`\n        <div data-select="back">\n          <svg xmlns="http://www.w3.org/2000/svg" width="5.229" height="8.468" viewBox="0 0 5.229 8.468"><path d="M.995,0,0,.995,3.232,4.234,0,7.473l.995.995L5.229,4.234Z" transform="translate(5.229 8.468) rotate(180)" fill="#fff"/></svg>\n          <span>${e}</span>\n        </div>\n      `},s=t=>{a.state=!a.state,e.body.style.overflow=a.state?"hidden":"",e.sidebar.style.display=a.state?"block":"none",header.classList.remove("is-hidden")};let r;const l=t=>{const{currentTarget:n}=t,s=t.currentTarget.getAttribute("data-select");if("back"===s)a.sub=!1,r.forEach(e=>e.removeEventListener("click",l)),r=null,e.scontent.style.display="block",e.ssub.style.display="none",e.ssub.innerHTML="";else if(a.sub){const e=n.classList.contains("is-current"),a=e?"":t.currentTarget.getAttribute("data-sub");r.forEach(e=>e.classList.remove("is-current")),n.classList[e?"remove":"add"]("is-current"),"departments"===s&&d("department",API.departments,a),"types"===s&&d("type",API.types,a),"locations"===s&&d("location",API.locations,a)}else a.sub=!0,e.scontent.style.display="none",e.ssub.style.display="block",e.ssub.innerHTML=a.header(s),e.ssub.appendChild(((e,t)=>{const{department:n,location:a,type:s,search:r}=c(),o=document.createDocumentFragment();return e.forEach(e=>{const r=document.createElement("div");let l;"departments"===t&&(l=escapestr(e.value)===n?"is-current":""),"locations"===t&&(l=escapestr(e.value)===a?"is-current":""),"types"===t&&(l=escapestr(e.value)===s?"is-current":""),r.setAttribute("data-select",t),r.setAttribute("data-sub",escapestr(e.value)),r.className=l,r.innerHTML=`<span>${escapestr(e.value)}</span>`,o.appendChild(r)}),o})(API[s],s)),(r=queryAll("div",e.ssub)).forEach(e=>e.addEventListener("click",l))};e.filter.addEventListener("click",s),e.sbtn.addEventListener("click",s),e.sitems.forEach(e=>{e.addEventListener("click",l)}),getId("all").addEventListener("click",t=>{t.preventDefault();const n=e.search.querySelector("input").value;isNullOrEmptyStr(n)?d("department",API.departments,"Departments"):(d("department",API.departments,"Departments"),d("search",0,n))}),getId("js-findurfuture").addEventListener("click",e=>{e.preventDefault(),window.scrollTo(0,0)}),i.push(window.location.pathname+window.location.search)};let u=!1;getId("js-more").addEventListener("click",e=>{e.preventDefault(),u=!u,getId("more").style.display=u?"block":"none",query("[data-update]",e.currentTarget).innerHTML=u?"Show less":"Learn more",onResize()}),getId("js-findurfuture").addEventListener("click",e=>{e.preventDefault(),window.scrollTo(0,0)}),async function(){await fetch(API.url,{method:"GET"}).then(function(e){return e.json()}).then(function(e){p(e)})}()};"loading"!=document.readyState?CareersDOMContentLoaded():document.addEventListener("DOMContentLoaded",CareersDOMContentLoaded);